<!DOCTYPE html>
<html lang="en">
<head>
    <title>Thyroid Cancer Aide</title>

    <!-- Adjusting the page on mobile screen -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <!-- CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <style>
        .ui-content {
            text-align: center;
        }
        .ui-btn-inner {
            border-radius: 10px;
        }
        .password-field {
            font-size: 1.5em;
            text-align: left;
            letter-spacing: 0.2em;
        }
        #numKeyPad .ui-controlgroup {
            margin: 0 auto;
            width: -moz-fit-content;
            width: -webkit-fit-content;
            width: fit-content;
        }
        #pageHome .ui-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 80vh; /* Adjust as needed */
        }
        pre {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 3px;
            padding: 10px;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: left;
        }
    </style>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
    <script src="menu/Navigation.js"></script>
</head>
<body>

    <!-- Start of first page -->
    <div data-role="page" id="pageHome">
        <div data-role="header">
            <h1>Thyroid Cancer Aide</h1>
            <a href="#pageAbout" data-role="button" data-icon="info" data-iconpos="right" class="ui-btn-right">About</a>
        </div>
        <div data-role="content">
            Password : <input type="password" id="passcode" />

            <div data-role="controlgroup" data-type="horizontal">
                <a data-role="button" onclick="addValueToPassword(7)">7</a>
                <a data-role="button" onclick="addValueToPassword(8)">8</a>
                <a data-role="button" onclick="addValueToPassword(9)">9</a>
            </div>

            <div data-role="controlgroup" data-type="horizontal">
                <a data-role="button" onclick="addValueToPassword(4)">4</a>
                <a data-role="button" onclick="addValueToPassword(5)">5</a>
                <a data-role="button" onclick="addValueToPassword(6)">6</a>
            </div>

            <div data-role="controlgroup" data-type="horizontal">
                <a data-role="button" onclick="addValueToPassword(1)">1</a>
                <a data-role="button" onclick="addValueToPassword(2)">2</a>
                <a data-role="button" onclick="addValueToPassword(3)">3</a>
            </div>

            <div data-role="controlgroup" data-type="horizontal">
                <a data-role="button" onclick="addValueToPassword(0)">0</a>
                <a data-role="button" onclick="addValueToPassword('bksp')" data-icon="delete">del</a>
            </div>
            
            <div data-role="controlgroup" id="numKeyPad">
                <a data-role="button" id="btnEnter" type="submit" data-mini="true">Enter</a>
            </div>
        </div>
    </div>

    <!-- Start of second page (Data) -->
    <div data-role="page" id="pageData">
        <div data-role="header">
            <a href="#pageHome" data-icon="arrow-l" data-rel="back" data-direction="reverse">Back</a>
            <h1>Data</h1>
        </div>
        <div data-role="content" id="resultMessage">
            <!-- Message will be dynamically updated by JavaScript -->
        </div>
    </div>

    <!-- Disclaimer Page (Legal Notice) -->
    <div data-role="page" id="legalNotice" data-close-btn="none">
        <div data-role="header">
            <h1>Disclaimer</h1>
        </div>
        <div data-role="content">
            [Insert Disclaimer Text Here]
            <br>
            <a href="menu/user_info.html" id="noticeYes" data-role="button" data-icon="forward" data-mini="false">Yes</a>
        </div>
    </div>

    <!-- About Page -->
    <div data-role="page" id="pageAbout">
        <div data-role="header">
            <a href="#" data-rel="back" data-role="button" data-icon="arrow-l">Back</a>
            <h1>About the App Logic</h1>
        </div>
        <div data-role="content" style="text-align: left; padding: 15px;">
            <h3>Storing User Data with Error Handling</h3>
            <p>Once we have created the “user” object using the JSON format, we are going to add it to localStorage. Working with localStorage can result in errors. For example, we may exceed available storage. Usually most input/output (I/O) operations involving secondary storage, such as disk, are fraught with potential errors. Therefore, most object-oriented programming languages, including JavaScript, which can be object oriented, mandate that I/O operations involving disk are to be done in a try and catch block. This is a special exception handling feature that takes the following form:</p>
            <pre><code>try {
  // Code that does the disk operations
}
catch(variable) {
  // Code if the disk operations fail for any reason
}</code></pre>
            <p>If for any reason the statements listed in the try block—that is, the code in braces {....} that follow “try”—fail, the exception (which is an error in most cases) is thrown, and the rest of the statements in the try block are skipped. The control is then transferred to the catch block—that is, the code in braces {....} that follows “catch(variable)”. The exception is stored in the variable, so it can be examined in the code in the catch block. Let us see how it works in our specific case.</p>
            <p>We first take our JSON object user that was created prior to entering the try block and convert it into a string. This is done using the JSON.stringify() function. We then associate the string returned by JSON.stringify() to the storage key that we have named “user” and put it in localStorage with the method setItem() as we had done before. Once this storage operation is performed, we update the user by displaying a dialog box with the message “Saving Information”. The app then transfers the user to &lt;div&gt; section “pageMenu”, which consists of various menu options.</p>
            <p>We are using a different approach for transferring the user to a new page using the $.mobile object that is a part of the jQuery Mobile API. The object provides a number of useful methods. We use the changePage() method for changing to a page. For a complete list of functions for $.mobile object, please visit <a href="http://demos.jquerymobile.com/" target="_blank" rel="noopener noreferrer">http://demos.jquerymobile.com/</a></p>
            <p>Let us now look at the code in the catch block. If there was an exception/error, it will be stored in the variable e. We are only going to check whether we are exceeding the quota of our localStorage. Usually, most error messages have a code—a number. Instead of looking up what that number means, we are provided with meaningful names of constants. For example, we have a constant called DOMException.QUOTA_EXCEEDED_ERR that is set to the number 22. It means we have exceeded the localStorage quota. At the time of writing the code, Google Chrome used a different constant name than other browsers. Therefore, we check to see if window.navigator.vendor==="Google Inc”. If it is, we match e with DOMException.QUOTA_EXCEEDED_ERR. Otherwise, we match e with QUOTA_EXCEEDED_ERR. If e matches one of these constant, we display a message stating that the quota is exceeded. In any case, we write the error code to the console using the call console.log(e). This information can be used in the debugging; however, we are not going to discuss debugging in any more detail in this book.</p>
        </div>
    </div>
</body>
</html>